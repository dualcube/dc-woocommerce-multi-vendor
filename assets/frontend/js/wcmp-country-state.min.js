jQuery(function(p){if("undefined"==typeof wc_country_select_params)return!1;var t=wc_country_select_params.countries.replace(/&quot;/g,'"'),u=p.parseJSON(t);p(document.body).on("change","select.country_to_state, input.country_to_state",function(){var t=p(this).closest(".store-address-info, .vendor-preview-form");t.length||(t=p(this).closest(".form-row").parent());var e=p(this).val(),n=p("#vendor_state"),r=n.parent(),a=n.attr("name"),o=n.attr("id"),c=n.val(),i=n.attr("placeholder")||n.attr("data-placeholder")||"";if(u[e])if(p.isEmptyObject(u[e]))n.parents(".vendor_state_wrapper").hide(),n.replaceWith('<input type="hidden" class="hidden" name="'+a+'" id="'+o+'" value="" placeholder="'+i+'" />'),p(document.body).trigger("country_to_state_changed",[e,t]);else{var s="",l=u[e];for(var d in l)l.hasOwnProperty(d)&&(s=s+'<option value="'+d+'">'+l[d]+"</option>");n.parent().show(),n.is("input")&&(n.replaceWith('<select name="'+a+'" id="'+o+'" class="state_select select_box form-control inp-btm-margin regular-select" data-placeholder="'+i+'"></select>'),n=p("#vendor_state")),n.html('<option value="">'+wc_country_select_params.i18n_select_state_text+"</option>"+s),n.val(c).change(),p(document.body).trigger("country_to_state_changed",[e,t])}else n.is("select")?(r.show().find(".select2-container").remove(),n.replaceWith('<input type="text" class="form-control inp-btm-margin regular-text input-text" name="'+a+'" id="'+o+'" placeholder="'+i+'" style="display:none;" />'),p(document.body).trigger("country_to_state_changed",[e,t])):n.is('input[type="hidden"]')&&(r.show().find(".select2-container").remove(),n.replaceWith('<input type="text" class="form-control inp-btm-margin regular-text input-text" name="'+a+'" id="'+o+'" placeholder="'+i+'" style="display:none;" />'),p(document.body).trigger("country_to_state_changed",[e,t]));p(document.body).trigger("country_to_state_changing",[e,t])}).trigger("change"),p(function(){p(":input.country_to_state").change()})});